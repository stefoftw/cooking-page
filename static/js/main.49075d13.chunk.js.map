{"version":3,"sources":["context/ThemeContext.js","hooks/useTheme.js","components/Navbar.js","firebase/config.js","assets/trashcan.svg","components/RecipeList.js","pages/home/Home.js","pages/create/Create.js","pages/search/Search.js","hooks/useFetch.js","pages/recipe/Recipe.js","assets/mode-icon.svg","components/ThemeSelector.js","App.js","index.js"],"names":["ThemeContext","createContext","themeReducer","state","action","type","color","payload","mode","ThemeProvider","children","useReducer","dispatch","Provider","value","changeColor","changeMode","useTheme","context","useContext","undefined","Error","Navbar","className","style","backgroundColor","to","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","RecipeList","recipes","length","map","recipe","title","cookingTime","method","substring","id","src","Trashcan","onClick","collection","doc","delete","Home","useState","data","setData","isPending","setIsPending","error","setError","useEffect","unsub","onSnapshot","snapshot","empty","results","docs","forEach","push","err","message","Create","setTitle","setMethod","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","history","useHistory","handleSubmit","e","a","preventDefault","add","console","log","onSubmit","onChange","target","required","ref","ing","trim","includes","prevIngredients","current","focus","i","Search","queryString","useLocation","search","query","URLSearchParams","get","url","options","setOptions","postData","headers","body","JSON","stringify","controller","AbortController","fetchData","fetchOptions","fetch","signal","res","ok","statusText","json","name","abort","useFetch","Recipe","useParams","setRecipe","exists","update","themeColors","ThemeSelector","modeIcon","alt","filter","background","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49075d13.chunk.js","sourcesContent":["import { createContext , useReducer } from \"react\";\r\n\r\nexport const ThemeContext = createContext()\r\n\r\nconst themeReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"CHANGE_COLOR\":\r\n            return {...state, color:action.payload}\r\n        case \"CHANGE_MODE\":\r\n            return { ...state, mode: action.payload}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport function ThemeProvider({ children }) {\r\n    const [state, dispatch] = useReducer(themeReducer, {\r\n        color: \"#58249c\",\r\n        mode: 'dark'\r\n    })\r\n\r\n    const changeColor = (color) => {\r\n        dispatch({type: \"CHANGE_COLOR\" , payload: color})\r\n    }\r\n\r\n    const changeMode = (mode) => {\r\n        dispatch({ type: \"CHANGE_MODE\",payload:mode})\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={{...state, changeColor, changeMode}}>\r\n            {children}\r\n        </ThemeContext.Provider>\r\n    )\r\n}","import { useContext } from \"react\";\r\nimport { ThemeContext } from \"../context/ThemeContext\";\r\n\r\nexport const useTheme = () => {\r\n    const context = useContext(ThemeContext)\r\n\r\n    if(context === undefined) {\r\n        throw new Error(\"useTheme must be used inside a ThemeProvider\")\r\n    }\r\n    return context\r\n}","import { Link } from \"react-router-dom\";\r\nimport { useTheme } from \"../hooks/useTheme\";\r\n\r\n// styles\r\nimport \"./Navbar.css\";\r\n\r\n//components\r\nimport Searchbar from \"./Searchbar\";\r\n\r\nexport default function Navbar() {\r\n  const {color} = useTheme()\r\n\r\n  return (\r\n    <div className=\"navbar\" style={{backgroundColor:color}}>\r\n      <nav>\r\n        <Link to=\"/cooking-page\" className=\"brand\">\r\n          <h1>Cooking Page</h1>\r\n        </Link>\r\n        \r\n        <Link to=\"/create\">Create Recipe</Link>\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n","import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyA47gGNEcFYgmxHgS4vQ13LUUiOnHESIaw\",\r\n    authDomain: \"cooking-website-3bf69.firebaseapp.com\",\r\n    projectId: \"cooking-website-3bf69\",\r\n    storageBucket: \"cooking-website-3bf69.appspot.com\",\r\n    messagingSenderId: \"471037479877\",\r\n    appId: \"1:471037479877:web:a7d26423580290fd3299ac\"\r\n  };\r\n\r\n  //init firebase\r\n  firebase.initializeApp(firebaseConfig)\r\n\r\n  // init services\r\n  const projectFirestore = firebase.firestore()\r\n\r\n  export {projectFirestore} ","export default __webpack_public_path__ + \"static/media/trashcan.45d41f10.svg\";","import { Link } from 'react-router-dom'\r\nimport { useTheme } from '../hooks/useTheme'\r\nimport Trashcan from \"../assets/trashcan.svg\"\r\nimport { projectFirestore } from '../firebase/config'\r\n\r\n// styles\r\nimport \"./RecipeList.css\"\r\n\r\n\r\nexport default function RecipeList({recipes}) {\r\n    const {mode} = useTheme()\r\n    if(recipes.length === 0) {\r\n        return <div className=\"error\">No Recipes to load...</div>\r\n    }\r\n\r\n    const handleClick = (id) => {\r\n      projectFirestore.collection(\"Recipes\").doc(id).delete()\r\n    }\r\n  return (\r\n    <div className=\"recipe-list\">\r\n        {recipes.map(recipe => (\r\n            <div key={recipe.id} className={`card ${mode}`}>\r\n            <h3>{recipe.title}</h3>\r\n            <p>{recipe.cookingTime} to make.</p>\r\n            <div>{recipe.method.substring(0, 100)}...</div>\r\n            <Link to={`./recipes/${recipe.id}`}>Cook This</Link>\r\n            <img \r\n            className=\"delete\"\r\n            src={Trashcan}\r\n            onClick={() => handleClick(recipe.id)}\r\n            />\r\n            </div>\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n","import { projectFirestore } from \"../../firebase/config\"\r\n// styles\r\nimport \"./Home.css\"\r\n\r\n//components\r\nimport RecipeList from \"../../components/RecipeList\"\r\nimport { useEffect , useState} from \"react\"\r\n\r\nexport default function Home() {\r\n    const [data, setData] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const [error, setError] = useState(false)\r\n    \r\n    useEffect(() => {\r\n        setIsPending(true)\r\n\r\n        const unsub = projectFirestore.collection('Recipes').onSnapshot((snapshot) => {\r\n            if(snapshot.empty) {\r\n                setError(\"No Recipes to Load\")\r\n                setIsPending(false)\r\n            } \r\n            else {\r\n                let results = []\r\n                snapshot.docs.forEach(doc => {\r\n                    results.push({id: doc.id , ...doc.data()})\r\n                })\r\n                setData(results)\r\n                setIsPending(false)\r\n            }\r\n        }, (err) => {\r\n            setError(err.message)\r\n            setIsPending(false)\r\n        })\r\n        return() => unsub()\r\n    },[])\r\n\r\n  return (\r\n    <div className=\"home\">\r\n    {error && <p className=\"error\">{error}</p>}\r\n    {isPending && <p className=\"loading\">Loading...</p>}\r\n    {data && <RecipeList recipes={data} />}\r\n\r\n    </div>\r\n  )\r\n}\r\n","import { useState , useRef, useEffect } from \"react\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { projectFirestore } from \"../../firebase/config\"\r\n// styles\r\nimport \"./Create.css\"\r\n\r\nexport default function Create() {\r\n    const [ title , setTitle ] = useState(\"\")\r\n    const [ method, setMethod ] = useState(\"\")\r\n    const [ cookingTime , setCookingTime] = useState(\"\")\r\n    const [ newIngredient , setNewIngredient ] = useState(\"\")\r\n    const [ ingredients , setIngredients ] = useState([])\r\n    const ingredientInput = useRef(null)\r\n    const history = useHistory()\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        const doc = ({title, ingredients, method , cookingTime: cookingTime + \" minutes\"})\r\n\r\n        try {\r\n            await projectFirestore.collection(\"Recipes\").add(doc)\r\n            history.push(\"/cooking-page\")\r\n        } catch(err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n\r\n    const handleAdd = (e) => {\r\n        e.preventDefault()\r\n        const ing = newIngredient.trim()\r\n\r\n        if(ing && !ingredients.includes(ing)) {\r\n            setIngredients(prevIngredients => [...prevIngredients, ing])\r\n        }\r\n        setNewIngredient(\"\")\r\n        ingredientInput.current.focus()\r\n    }\r\n\r\n  return (\r\n    <div className=\"create\">\r\n      <h2 className=\"page-title\">Add a new Recipe</h2>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          <span>Recipe Title:</span>\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setTitle(e.target.value)}\r\n            value={title}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n            <span>Recipe Ingredients:</span>\r\n            <div className=\"ingredients\">\r\n            <input type=\"text\"\r\n            onChange={(e) => setNewIngredient(e.target.value)}\r\n            value={newIngredient}\r\n            ref={ingredientInput}\r\n            />\r\n            <button onClick={handleAdd} className=\"btn\">add</button>\r\n            </div>\r\n            <p>Current Ingredients: {ingredients.map(i => <em key={i}>{i} ,</em>)}</p>\r\n        </label>\r\n\r\n\r\n        <label>\r\n          <span>Recipe Method:</span>\r\n          <textarea\r\n            onChange={(e) => setMethod(e.target.value)}\r\n            value={method}\r\n            required\r\n          />\r\n        </label>\r\n        <label>\r\n          <span>Cooking Time (in minutes)</span>\r\n          <input\r\n            type=\"number\"\r\n            onChange={(e) => setCookingTime(e.target.value)}\r\n            value={cookingTime}\r\n            required\r\n          />\r\n        </label>\r\n        <button className=\"btn\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import { useLocation } from \"react-router-dom\"\r\nimport { useFetch } from \"../../hooks/useFetch\"\r\n\r\n// styles\r\nimport \"./Search.css\"\r\n\r\n// components\r\nimport RecipeList from \"../../components/RecipeList\"\r\n\r\nexport default function Search() {\r\n    const queryString = useLocation().search\r\n    const queryParams = new URLSearchParams(queryString)\r\n    const query = queryParams.get(\"q\")\r\n\r\n    const url = \"http://localhost:3000/recipes?q=\" + query\r\n    const {error, isPending, data} = useFetch(url)\r\n\r\n  return (\r\n    <div>\r\n    <h2 className=\"page-title\">Recipes including \"{query}\"</h2>\r\n    {error && <p className=\"error\">{error}</p>}\r\n    {isPending && <p className=\"loading\">Loading...</p>}\r\n    {data && <RecipeList recipes={data} />}\r\n    </div>\r\n  )\r\n}\r\n","import { useState, useEffect } from \"react\"\n\nexport const useFetch = (url, method = \"GET\") => {\n  const [data, setData] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(null)\n  const [options , setOptions] = useState(null)\n\n  const postData = (postData) => {\n    setOptions({\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(postData)\n    })\n  }\n\n  useEffect(() => {\n    const controller = new AbortController()\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true)\n      \n      try {\n        const res = await fetch(url, { ...fetchOptions , signal: controller.signal })\n        if(!res.ok) {\n          throw new Error(res.statusText)\n        }\n        const data = await res.json()\n\n        setIsPending(false)\n        setData(data)\n        setError(null)\n      } catch (err) {\n        if (err.name === \"AbortError\") {\n          console.log(\"the fetch was aborted\")\n        } else {\n          setIsPending(false)\n          setError('Could not fetch the data')\n        }\n      }\n    }\n\n    \n    if(method === \"GET\"){\n      fetchData()\n    }\n    if(method === \"POST\" && options) {\n      fetchData(options)\n    }\n\n    return () => {\n      controller.abort()\n    }\n\n  }, [url, options, method])\n\n  return { data, isPending, error , postData }\n}","import { useEffect , useState} from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useTheme } from \"../../hooks/useTheme\";\r\nimport { projectFirestore } from \"../../firebase/config\";\r\n\r\n// styles\r\nimport \"./Recipe.css\"\r\n\r\nexport default function Recipe() {\r\n    \r\n    let { id } = useParams();\r\n    const {mode} = useTheme()\r\n\r\n    const [recipe, setRecipe] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const [error, setError] = useState(false)\r\n\r\n    useEffect(() => {\r\n        setIsPending(true)\r\n\r\n        const unsub = projectFirestore.collection('Recipes').doc(id).onSnapshot((doc) => {\r\n            if(doc.exists) {\r\n                setIsPending(false)\r\n                setRecipe(doc.data())\r\n            }\r\n            else {\r\n                setIsPending(false)\r\n                setError(\"Could not find that recipe.\")\r\n            }\r\n        })\r\n        return () => unsub()\r\n    },[id])\r\n\r\n    const handleClick =() => {\r\n        projectFirestore.collection(\"Recipes\").doc(id).update({\r\n            title: \"Completely different title\"\r\n        })\r\n    }\r\n  return (\r\n    <div className={`recipe ${mode}`}>\r\n    {error && <p className=\"error\">{error}</p>}\r\n    {isPending && <p className=\"loading\">Loading...</p>}\r\n    {recipe && (\r\n        <>\r\n        <h2 className=\"page-title\">{recipe.title}</h2>\r\n        <p>Takes {recipe.cookingTime} to make.</p>\r\n        <ul>\r\n            {recipe.ingredients.map((ing) => <li key={ing}>{ing}</li>)}\r\n        </ul>\r\n        <p className=\"method\">{recipe.method}</p>\r\n        <button onClick={() =>handleClick()}>Update Me</button>\r\n        </>\r\n    )}\r\n    </div>\r\n  )\r\n}\r\n","export default __webpack_public_path__ + \"static/media/mode-icon.18c28fe1.svg\";","import {useTheme} from \"../hooks/useTheme\"\r\nimport modeIcon from \"../assets/mode-icon.svg\"\r\n\r\n// styles\r\nimport \"./ThemeSelector.css\"\r\n\r\nconst themeColors = ['#58249c' , '#249c6b', '#b70233']\r\n\r\nexport default function ThemeSelector() {\r\n    const {changeColor, changeMode, mode} = useTheme()\r\n\r\n    const toggleMode = () => {\r\n        changeMode(mode === 'dark' ? 'light' : 'dark')\r\n    }\r\n    console.log(mode)\r\n  return (\r\n    <div className=\"theme-selector\">\r\n    <div className=\"mode-toggle\">\r\n    <img src={modeIcon}  \r\n    onClick={toggleMode} \r\n    alt=\"dark/light toggle icon\"\r\n    style={{ filter: mode === \"dark\" ? \"invert(100%)\" : \"invert(20%)\"}}\r\n    />\r\n    </div>\r\n      <div className=\"theme-buttons\">\r\n        {themeColors.map((color) => (\r\n          <div\r\n            key={color}\r\n            onClick={() => changeColor(color)}\r\n            style={{ background: color }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import './App.css'\r\nimport { BrowserRouter, Switch , Route } from \"react-router-dom\"\r\nimport { useTheme } from \"./hooks/useTheme\"\r\n\r\n//page components\r\nimport Navbar from \"./components/Navbar\"\r\nimport Home from \"./pages/home/Home\"\r\nimport Create from \"./pages/create/Create\"\r\nimport Search from \"./pages/search/Search\"\r\nimport Recipe from \"./pages/recipe/Recipe\"\r\nimport ThemeSelector from './components/ThemeSelector'\r\n\r\nfunction App() {\r\n  const { mode } = useTheme()\r\n  return (\r\n    <div className={`App ${mode}`}>\r\n      <BrowserRouter>\r\n        <Navbar />\r\n        <ThemeSelector />\r\n        <Switch>\r\n          <Route exact path=\"/cooking-page\">\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/create\">\r\n            <Create />\r\n          </Route>\r\n          <Route path=\"/search\">\r\n            <Search />\r\n          </Route>\r\n          <Route path=\"/recipes/:id\">\r\n            <Recipe />\r\n          </Route>\r\n        </Switch>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { ThemeProvider } from \"./context/ThemeContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ThemeProvider>\r\n      <App />\r\n    </ThemeProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}